<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rat Hiding Games</title>
  <meta name="description" content="Rat Hiding Games — indie game studio. We make games. We hide everywhere." />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Space+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/base.css">
  <link rel="stylesheet" href="/styles/home.css">
</head>
<body>

<!--
  ╔══════════════════════════════════════════════╗
  ║                                              ║
  ║   you found the rat hole.                    ║
  ║                                              ║
  ║    /\_/\                                     ║
  ║   ( o.o )   try the konami code.             ║
  ║    > ^ <                                     ║
  ║                                              ║
  ║   hold [C] and move your mouse.              ║
  ║   click the eyes.                            ║
  ║   wait long enough.                          ║
  ║                                              ║
  ╚══════════════════════════════════════════════╝
-->

  <main class="center">

    <!-- glowing eyes — click me -->
    <div class="eyes" aria-hidden="true">
      <div class="eye"></div>
      <div class="eye"></div>
    </div>

    <h1>
      <span class="t-rat">RAT</span><span class="t-hide"> HIDING</span><a href="/game/" class="t-games"> GAMES</a>
    </h1>

  </main>

  <!-- right rat -->
  <div class="rat" aria-hidden="true">
    <div class="r-ear r-ear--l"></div>
    <div class="r-ear r-ear--r"></div>
    <div class="r-head">
      <div class="r-eye r-eye--l"></div>
      <div class="r-eye r-eye--r"></div>
      <div class="r-nose"></div>
      <div class="r-whisker r-whisker--l1"></div>
      <div class="r-whisker r-whisker--l2"></div>
      <div class="r-whisker r-whisker--r1"></div>
      <div class="r-whisker r-whisker--r2"></div>
    </div>
    <div class="r-body"></div>
  </div>

<footer class="footer">© 2026 Rat Hiding Games</footer>

  <script>
    // ─── 1. Eye tracking — eyes follow cursor ───────────────────────────────
    const eyesEl  = document.querySelector('.eyes');
    const hideSpan = document.querySelector('.t-hide');

    document.addEventListener('mousemove', e => {
      const mx = (e.clientX / window.innerWidth  - 0.5) * 7;
      const my = (e.clientY / window.innerHeight - 0.5) * 4;
      eyesEl.style.transform = `translate(${mx}px, ${my}px)`;
    });

    // ─── 2. Click eyes — wide-eyed flash ───────────────────────────────────
    eyesEl.addEventListener('click', () => {
      // flash overlay
      const flash = document.createElement('div');
      Object.assign(flash.style, {
        position: 'fixed', inset: '0',
        background: 'rgba(255,106,0,0.1)',
        zIndex: '900', pointerEvents: 'none',
        transition: 'opacity 0.5s'
      });
      document.body.appendChild(flash);

      // widen the gap — surprised eyes
      eyesEl.style.gap = '36px';
      setTimeout(() => {
        flash.style.opacity = '0';
        eyesEl.style.gap   = '';
        setTimeout(() => flash.remove(), 500);
      }, 140);
    });

    // ─── 3. glitch → R4T W4TCH1NG Y0U every ~40s ──────────────────────────
    const ratSpan   = document.querySelector('.t-rat');
    const gamesSpan = document.querySelector('.t-games');

    function flicker() {
      const seq = [
        ['R4T',  ' H1D1NG',   ' G4M3S'],
        ['R@T',  ' W@TCH1NG', ' Y0U'  ],
        ['R4T',  ' W4TCH1NG', ' Y0U'  ],
        ['R@T',  ' W4TCH1NG', ' Y0U'  ],
        ['R4T',  ' W4TCH1NG', ' Y0U'  ],
        ['R@T',  ' W@TCH1NG', ' Y0U'  ],
        ['RAT',  ' WATCHING', ' YOU'  ],
        ['R4T',  ' W4TCH1NG', ' Y0U'  ],
        ['RAT',  ' HIDING',   ' GAMES'],
      ];
      let i = 0;
      ratSpan.style.color   = 'var(--accent)';
      hideSpan.style.color  = 'var(--accent)';
      gamesSpan.style.color = 'var(--accent)';

      const id = setInterval(() => {
        ratSpan.textContent   = seq[i][0];
        hideSpan.textContent  = seq[i][1];
        gamesSpan.textContent = seq[i][2];
        i++;
        if (i >= seq.length) {
          clearInterval(id);
          ratSpan.textContent   = 'RAT';
          hideSpan.textContent  = ' HIDING';
          gamesSpan.textContent = ' GAMES';
          ratSpan.style.color   = '';
          hideSpan.style.color  = '';
          gamesSpan.style.color = '';
        }
      }, 210);
    }
    setInterval(flicker, 40000);

    // ─── 4. Konami code → rat swarm ────────────────────────────────────────
    const KONAMI = [
      'ArrowUp','ArrowUp','ArrowDown','ArrowDown',
      'ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'
    ];
    let ki = 0;
    document.addEventListener('keydown', e => {
      ki = (e.key === KONAMI[ki]) ? ki + 1 : (e.key === KONAMI[0] ? 1 : 0);
      if (ki === KONAMI.length) { ki = 0; ratSwarm(); }
    });

    function ratSwarm() {
      for (let i = 0; i < 22; i++) {
        setTimeout(() => {
          const r   = document.createElement('div');
          const ltr = Math.random() > 0.5;
          const y   = 10 + Math.random() * 72;
          const spd = 1.3 + Math.random() * 1.6;
          const sz  = 7  + Math.random() * 9;
          Object.assign(r.style, {
            position: 'fixed', zIndex: '950',
            width:  sz * 1.7 + 'px',
            height: sz + 'px',
            background: 'rgba(255,106,0,0.8)',
            borderRadius: '50%',
            top: y + 'vh',
            [ltr ? 'left' : 'right']: '-30px',
            boxShadow: `0 0 8px rgba(255,106,0,0.5),
              ${sz*0.35}px ${-sz*0.55}px 0 ${sz*0.22}px rgba(255,106,0,0.7),
              ${sz*0.9}px  ${-sz*0.55}px 0 ${sz*0.22}px rgba(255,106,0,0.7)`,
            transition: `transform ${spd}s linear`,
            pointerEvents: 'none'
          });
          document.body.appendChild(r);
          requestAnimationFrame(() => {
            r.style.transform = `translateX(${ltr ? 115 : -115}vw)`;
          });
          setTimeout(() => r.remove(), spd * 1000 + 300);
        }, i * 85);
      }
    }

    // ─── 5. Cheese crumb trail — hold C + move mouse ───────────────────────
    let cDown = false, lastCrumb = 0;
    document.addEventListener('keydown', e => { if (e.key === 'c' || e.key === 'C') cDown = true;  });
    document.addEventListener('keyup',   e => { if (e.key === 'c' || e.key === 'C') cDown = false; });

    document.addEventListener('mousemove', e => {
      if (!cDown || Date.now() - lastCrumb < 40) return;
      lastCrumb = Date.now();
      const c = document.createElement('div');
      Object.assign(c.style, {
        position: 'fixed', zIndex: '940',
        left: e.clientX - 4 + 'px',
        top:  e.clientY - 3 + 'px',
        width: '7px', height: '5px',
        background: '#e8b800',
        borderRadius: '2px',
        opacity: '0.9',
        pointerEvents: 'none',
        boxShadow: '0 0 5px rgba(232,184,0,0.6)',
        transition: 'opacity 1s, transform 1s'
      });
      document.body.appendChild(c);
      requestAnimationFrame(() => {
        c.style.opacity   = '0';
        c.style.transform = 'translateY(7px)';
      });
      setTimeout(() => c.remove(), 1050);
    });

    // ─── 6. Pawprint trail across the bottom ───────────────────────────────
    function spawnTrail() {
      const ltr    = Math.random() > 0.5;
      const startX = ltr ? -20 : window.innerWidth + 20;
      const stepW  = 36 + Math.random() * 18;
      for (let i = 0; i < 10; i++) {
        setTimeout(() => {
          const p = document.createElement('div');
          p.className = 'pawprint';
          const side = i % 2 === 0 ? 5 : -5;
          p.style.left = (startX + (ltr ? 1 : -1) * i * stepW + side) + 'px';
          document.body.appendChild(p);
          setTimeout(() => p.remove(), 3400);
        }, i * 210);
      }
    }
    setTimeout(spawnTrail, 5000);
    setInterval(spawnTrail, 15000);
  </script>

</body>
</html>
